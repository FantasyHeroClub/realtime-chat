{"version":3,"sources":["../src/Bar.js"],"names":["Bar","props","scale","xValue","xEndValue","yValue","yEndValue","thickness","style","onMouseEnter","onMouseMove","onMouseLeave","orientation","className","x","y","width","height","x0","x1","Math","min","abs","y0","y1","Component","propTypes","shape","func","isRequired","any","number","string","object","defaultProps"],"mappings":"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","file":"Bar.js","sourcesContent":["import React from 'react';\nimport invariant from 'invariant';\nimport isUndefined from 'lodash/isUndefined';\nimport {hasOneOfTwo} from './util';\nimport {hasXYScales} from './utils/Scale';\nimport PropTypes from 'prop-types';\n\n/**\n * Bar is a low-level component to be used in XYPlot-type charts (namely BarChart).\n * It is specified in terms of a range (min & max) of values on one axis (the bar's long axis)\n * and a single value on the other axis.\n * Passing props `xValue`, `xEndValue` and `yValue` specifies a horizontal bar,\n * centered on `yValue` and spanning from `xValue` to `xEndValue`;\n * passing props `xValue`, `yValue`, and `yEndValue' specifies a vertical bar.\n */\n\nexport default class Bar extends React.Component {\n  static propTypes = {\n    /**\n     * D3 scales for the X and Y axes of the chart, in {x, y} object format.\n     */\n    scale: PropTypes.shape({x: PropTypes.func.isRequired, y: PropTypes.func.isRequired}),\n    /**\n     * For a vertical bar, xValue represents the X data value on which the bar is centered.\n     * For a horizontal bar, represents the *starting* X data value of the bar, ie. the minimum of the range it spans\n     */\n    xValue: PropTypes.any,\n    /**\n     * For a horizontal bar, yValue represents the Y data value on which the bar is centered.\n     * For a vertical bar, represents the *starting* Y data value of the bar, ie. the minimum of the range it spans\n     */\n    yValue: PropTypes.any,\n    /**\n     * For a horizontal bar, represents the *ending* X data value of the bar, ie. the maximum of the range it spans.\n     * Should be undefined if the bar is vertical.\n     */\n    xEndValue: PropTypes.any,\n    /**\n     * For a vertical bar, represents the *ending* Y data value of the bar, ie. the maximum of the range it spans.\n     * Should be undefined if the bar is horizontal.\n     */\n    yEndValue: PropTypes.any,\n    /**\n     * The thickness of the bar, in pixels. (width of vertical bar, or height of horizontal bar)\n     */\n    thickness: PropTypes.number,\n    /**\n     * Class name(s) to be included on the bar's <rect> element\n     */\n    className: PropTypes.string,\n    /**\n     * Inline style object to be included on the bar's <rect> element\n     */\n    style: PropTypes.object,\n    /**\n     * onMouseMove event handler callback, called when user's mouse moves within the bar.\n     */\n    onMouseMove: PropTypes.func,\n    /**\n     * onMouseEnter event handler callback, called when user's mouse enters the bar.\n     */\n    onMouseEnter: PropTypes.func,\n    /**\n     * onMouseLeave event handler callback, called when user's mouse leaves the bar.\n     */\n    onMouseLeave: PropTypes.func\n  };\n  static defaultProps = {\n    xValue: 0,\n    yValue: 0,\n    thickness: 8,\n    className: '',\n    style: {}\n  };\n\n  render() {\n    //  x/yValue are values in the *data* domain, not pixel domain\n    const {scale, xValue, xEndValue, yValue, yEndValue, thickness, style, onMouseEnter, onMouseMove, onMouseLeave} = this.props;\n    // console.log('bar', this.props);\n\n    invariant(hasXYScales(this.props.scale), `Bar.props.scale.x and scale.y must both be valid d3 scales`);\n    invariant(hasOneOfTwo(xEndValue, yEndValue), `Bar expects an xEnd *or* yEnd prop, but not both.`);\n\n    const orientation = isUndefined(xEndValue) ? 'vertical' : 'horizontal';\n    const className = `chart-bar chart-bar-${orientation} ${this.props.className || ''}`;\n\n    let x, y, width, height;\n    if(orientation === 'horizontal') {\n      y = scale.y(yValue) - (thickness / 2);\n      const x0 = scale.x(xValue);\n      const x1 = scale.x(xEndValue);\n      x = Math.min(x0, x1);\n      width = Math.abs(x1 - x0);\n      height = thickness;\n\n    } else { // vertical\n      x = scale.x(xValue) - (thickness / 2);\n      const y0 = scale.y(yValue);\n      const y1 = scale.y(yEndValue);\n      y = Math.min(y0, y1);\n      height = Math.abs(y1 - y0);\n      width = thickness;\n    }\n\n    return <rect {...{\n      x, y, width, height,\n      className, style,\n      onMouseEnter, onMouseMove, onMouseLeave\n    }} />\n  }\n}\n"]}