{"version":3,"sources":["../src/YTicks.js"],"names":["YTicks","props","width","tickCount","position","tickLength","tickStyle","tickClassName","spacing","scale","y","placement","ticks","className","transform","right","left","map","tick","i","y1","x2","x1","y2","style","key","get","defaults","defaultProps","zeroMargin","top","bottom","Component","propTypes","shape","func","isRequired","nice"],"mappings":"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","file":"YTicks.js","sourcesContent":["import React from 'react';\nimport _ from 'lodash';\nimport PropTypes from 'prop-types';\n\nimport {getScaleTicks, getTickDomain} from './utils/Scale';\n\nexport default class YTicks extends React.Component {\n  static propTypes = {\n    scale: PropTypes.shape({y: PropTypes.func.isRequired})\n  };\n  static defaultProps = {\n    position: 'left',\n    nice: true,\n    tickLength: 5,\n    tickStyle: {},\n    spacing: {top: 0, bottom: 0, left: 0, right: 0}\n  };\n\n  static getTickDomain(props) {\n    if(!_.get(props, 'scale.y')) return;\n    props = _.defaults({}, props, YTicks.defaultProps);\n    return {y: getTickDomain(props.scale.y, props)};\n  }\n\n  static getMargin(props) {\n    const {tickLength, position} = _.defaults({}, props, YTicks.defaultProps);\n    const placement = props.placement || ((position === 'left') ? 'before' : 'after');\n    const zeroMargin = {top: 0, bottom: 0, left: 0, right: 0};\n\n    if((position === 'left' && placement === 'after') || (position == 'right' && placement === 'before'))\n      return zeroMargin;\n\n    return _.defaults({[position]: tickLength || 0}, zeroMargin);\n  }\n\n  render() {\n    const {width, tickCount, position, tickLength, tickStyle, tickClassName, spacing} = this.props;\n    const scale = this.props.scale.y;\n    const placement = this.props.placement || ((position === 'left') ? 'before' : 'after');\n    const ticks = this.props.ticks || getScaleTicks(scale, null, tickCount);\n    const className = `chart-tick chart-tick-y ${tickClassName || ''}`;\n    const transform = (position === 'right') ?\n      `translate(${width + spacing.right}, 0)` :  `translate(${-spacing.left}, 0)`;\n\n    return <g className=\"chart-ticks-y\" transform={transform}>\n      {ticks.map((tick, i) => {\n        const y1 = scale(tick);\n        const x2 = (placement === 'before') ?  -tickLength : tickLength;\n\n        return <line {...{\n          x1: 0, x2, y1, y2: y1,\n          className,\n          style: tickStyle,\n          key: `tick-${i}`\n        }} />;\n      })}\n    </g>;\n  }\n}\n"]}